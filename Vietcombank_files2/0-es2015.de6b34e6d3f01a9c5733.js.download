(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Aer0:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i}));var l=s("8Y7J"),a=(s("eACs"),s("SVse"),s("s7LF"),l.qb({encapsulation:2,styles:[],data:{}}));function i(e){return l.Ob(2,[l.Kb(402653184,1,{selector:0}),(e()(),l.sb(1,0,[[1,0],["selector",1]],null,1,"select",[],null,null,null,null,null)),l.Db(null,0)],null,null)}},lcJK:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var l=s("8Y7J"),a=s("VXAP");class i extends a.a{constructor(e,t,s,a){super(s,a),this.element=e,this.cdRef=t,this.storeService=s,this.translate=a,this.select2Data=new Array,this.select2Value="",this.id="",this.class="",this.placeholder="",this.searchBox=!0,this.dataType="",this.template="",this.required="",this.disabled=!1,this.data=new Map,this.valueChange=new l.m,this.onClearValue=(e=null)=>{this.valueChange.emit(Object.assign({code:null,name:""},e)),this.select2Value=""},this.templateInfo=e=>e.id?null===e.element.attributes.getNamedItem("datainfo")?jQuery('<div class="select-txt-main">'+e.text+'</div><div class="select-txt-sub h6">------</div>'):jQuery('<div class="select-txt-main">'+e.text+'</div><div class="select-txt-sub h6">'+e.element.attributes.getNamedItem("datainfo").nodeValue+"</div>"):e.text,this.templateImage=e=>{if(!e.id)return e.text;if(e.element&&null!==e.element.attributes.getNamedItem("dataimg"))return jQuery('<div class="select-tpl-img-wrap"><div class="select-tpl-img" style="background-image: url('+e.element.attributes.getNamedItem("dataimg").nodeValue+')"></div><div class="sselect-tpl-txt">'+e.text+"</div></div>");{const t=this.data.get(e.id)?this.data.get(e.id).dataimg:"";return jQuery('<div class="select-tpl-img-wrap"><div class="select-tpl-img" style="background-image: url('+t+')"></div><div class="sselect-tpl-txt">'+e.text+"</div></div>")}},this.templateBank=e=>{if(!e.id)return e.text;if(e.element&&null!==e.element.attributes.getNamedItem("dataimg"))return jQuery('<div class="select-tpl-img-wrap" style="height:44px"><div class="select-tpl-img select-logo-banks" style="background-image: url('+e.element.attributes.getNamedItem("dataimg").nodeValue+')"></div><div><div>'+e.additional.brandName+'</div><div class="note color-grey">'+e.text+"</div></div>");{const t=this.data.get(e.id)?this.data.get(e.id).dataimg:"";return jQuery('<div class="select-tpl-img-wrap" style="height:44px"><div class="select-tpl-img select-logo-banks" style="background-image: url('+t+')"></div><div><div>'+e.additional.brandName+'</div><div class="note color-grey">'+e.text+"</div></div>")}},this.noResults=e=>this.translator.app.select2.no_results,this.hostEl=this.element.nativeElement,this.translate.onLangChange.subscribe(e=>{const t=new Array;if(this.data&&this.data.size>0){this.required&&""!==this.required&&t.push({id:"",text:""});for(const[s,l]of this.data)t.push({id:s,text:"en"===e.lang?l.nameEN?l.nameEN:l.name:l.nameVi?l.nameVi:l.name,additional:{brandName:l.brandName?l.brandName:""},disabled:l.isDisable})}this.select2Data=t.splice(0,200)})}ngOnChanges(e){let t;const s=new Array;this.selectEl=this.hostEl.getElementsByTagName("select").item(0);let l=this.selectEl.getAttribute("class");if(l&&(l=l.replace("input-hadval","")),this.data&&this.data.size>0){this.required&&""!==this.required&&s.push({id:"",text:""});for(const[e,t]of this.data){s.push({id:e,text:"en"===this.lang&&t.nameEN?t.nameEN:t.name,additional:{brandName:t.brandName?t.brandName:""},disabled:t.isDisable});const l=this.setLocalizedName(t);this.data.set(e,l)}e&&e.value&&null!=e.value.currentValue&&e.value.currentValue!=={}&&"{}"!==JSON.stringify(e.value.currentValue)&&e.value.currentValue!==e.value.previousValue&&(t=this.data.get(e.value.currentValue.code),t&&t.code&&(this.value=t,this.select2Value=t.code,this.classList&&this.selectEl.setAttribute("class",l+" input-hadval"))),e&&e.value&&(null==e.value.currentValue||e.value.currentValue==={})&&(this.select2Value="",this.value={},this.classList&&this.selectEl.setAttribute("class",l))}this.select2Data=s.splice(0,200),t&&t.code&&(this.select2Data=[{id:t.code,text:"en"===this.lang&&t.nameEN?t.nameEN:t.name,additional:{brandName:t.brandName?t.brandName:""}},...this.select2Data]),this.required&&""!==this.required&&(this.selectEl=this.hostEl.getElementsByTagName("select").item(0),this.selectEl.setAttribute("required",""),this.selectEl.setAttribute("data-parsley-required-message",this.required))}setLocalizedName(e){switch(this.lang){case"vi":e.localizedName=e.name;break;case"en":e.localizedName=e.nameEN}return e}ngOnInit(){this.selectEl=this.hostEl.getElementsByTagName("select").item(0);let e=!0;jQuery(this.selectEl).attr("multiple")&&(e=!1);const t={width:"100%",closeOnSelect:e,minimumResultsForSearch:this.searchBox?1:-1,language:{noResults:this.noResults},query:this.onSearch.bind(this)};if(this.options=Object.assign({},t,this.options),this.template)switch(this.template){case"info":break;case"image":this.options.templateResult=this.templateImage,this.options.templateSelection=this.templateImage;break;case"imageLogoBank":this.options.templateResult=this.templateBank,this.options.templateSelection=this.templateBank}this.initSelect2()}initSelect2(){$(document).ready(()=>{let e;$(document).on("focus",".select2.select2-container",e=>{e.originalEvent&&$(this).find(".select2-selection--single").length>0&&$(this).siblings("select:enabled").select2("open")}),$(window).width()<=767&&$("body .select-2").hasClass("select-2")&&$("body").append('<div class="select-2-backdrop"></div>'),$(".select-2-backdrop").on("click",()=>{$(".select-2").select2("close")}),$(this.selectEl).attr("multiple")?$(this.selectEl).on("select2:opening",()=>{$(window).width()<=767&&(BNS.off(),clearTimeout(e))}).on("select2:open",()=>{if($(".select2-search--dropdown .select2-search__field").attr("placeholder",this.translator.app.select2.search_box),$(window).width()<789&&$(".select2-search input").blur(),$(window).width()<=767){clearTimeout(e),BNS.on(),$(".close-select").remove(),$(".unselect-all").remove(),$(".select2-search-container").remove();const t=$(this).eq(0).attr("header-text");t&&$("body > .select2-container .select2-dropdown").prepend(`\n\t\t\t\t\t\t\t\t\t<div class="close-select">\n\t\t\t\t\t\t\t\t\t\t<div class="close-select__btn" href="javascript:void(0)" onclick="closeSelect()">\u0110\xf3ng</div> ${t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span class="no-pb select2-search select2-search-container select2-search--dropdown">\n\t\t\t\t\t\t\t\t\t\t<input placeholder="`+this.translator.app.select2.search_box+'" id="select-2-search-multiple" class="select2-search__field" type="search" tabindex="0" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox">\n\t\t\t\t\t\t\t\t\t<div class="unselect-all" onclick="deselectAll()">B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3</div>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t'),$("body > .select2-container .select2-dropdown").addClass("top-0"),$(".select-2-backdrop").addClass("show"),$("#select-2-search-multiple").keyup(()=>{!function(e){const t=$(".select2-container--open").siblings(".select-2[multiple]").data("select2").dropdown.$search||$(".select2-container--open").siblings(".select-2[multiple]").data("select2").selection.$search;t.val(e),t.trigger("keyup")}($("#select-2-search-multiple").val())})}}).on("select2:closing",()=>{$(".select-2-backdrop").removeClass("show"),$(window).width()<=767&&(BNS.off(),$("body > .select2-container .select2-dropdown").removeClass("top-0"))}):$(this.selectEl).on("select2:opening",()=>{$(window).width()<=767&&(BNS.off(),clearTimeout(e))}).on("select2:open",()=>{if($(".select2-search--dropdown .select2-search__field").attr("placeholder",this.translator.app.select2.search_box),$(window).width()>=789&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1)&&$(".select2-search input").blur(),$(window).width()<789&&$(".select2-search input").blur(),$(window).width()<=767){clearTimeout(e),BNS.on(),$(".close-select").remove();const t=$(this).eq(0).attr("header-text");t&&$("body > .select2-container .select2-dropdown").prepend('\n\t\t\t\t\t\t\t\t\t<div class="close-select"><div class="close-select__btn" href="javascript:void(0)" onclick="closeSelect()">'+this.translator.app_close+`</div>${t}</div>\n\t\t\t\t\t\t\t\t`),$("body > .select2-container .select2-dropdown").addClass("top-0"),$(".select-2-backdrop").addClass("show")}}).on("select2:closing",()=>{$(".select-2-backdrop").removeClass("show"),$(window).width()<=767&&(BNS.off(),$("body > .select2-container .select2-dropdown").removeClass("top-0"))}).on("select2:select",()=>{$(window).width()<=767&&($(".select-2-backdrop").removeClass("show"),$("body > .select2-container .select2-dropdown").removeClass("top-0"),e=setTimeout(()=>{$(".select-2").select2("close")},320))})})}onSearch(e){const t=new Array;if(this.data&&this.data.size>0){this.required&&""!==this.required&&t.push({id:"",text:""});for(const[e,s]of this.data)t.push({id:e,text:"en"===this.lang?s.nameEN?s.nameEN:s.name:s.nameVi?s.nameVi:s.name,additional:{brandName:s.brandName?s.brandName:""},disabled:s.isDisable})}const s=[...t].splice(0,200);if(!e.term||0===e.term.length)return e.callback({results:s,more:!0});const l=this.convertVietnameseCharacters(e.term),a=[...t].filter(e=>e&&e.text&&this.convertVietnameseCharacters(e.text).search(new RegExp(l,"gi"))>=0).splice(0,200);e.callback({results:a,more:!0})}convertVietnameseCharacters(e){if("string"!=typeof e)return e;let t=e;return t=t.toLowerCase(),t=t.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a"),t=t.replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A"),t=t.replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e"),t=t.replace(/E|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E"),t=t.replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i"),t=t.replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I"),t=t.replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o"),t=t.replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O"),t=t.replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u"),t=t.replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U"),t=t.replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y"),t=t.replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y"),t=t.replace(/\u0111/g,"d"),t=t.replace(/\u0110/g,"D"),t}debounce(e,t){"function"==typeof e&&(clearTimeout(this.timerDebounce),this.timerDebounce=setTimeout(()=>{clearTimeout(this.timerDebounce),"function"==typeof e?e():console.error("fn not is function, check again")},t))}ngAfterViewInit(){const e=document.createElement("div");e.setAttribute("class","input-ic");const t=document.createElement("div");t.setAttribute("class","arrow-down-fill-ic"),e.append(t),this.hostEl.getElementsByClassName("select2").item(0).parentNode.append(e);const s=this.selectEl.getAttribute("class");this.selectEl.setAttribute("class",this.classList?this.classList:s+" "+this.class);const l=this.hostEl.querySelector("label.input-label");l&&this.hostEl.getElementsByClassName("select2").item(0).parentNode.append(l),jQuery(this.hostEl).on("select2:open",()=>{jQuery(".select2-search__field").attr("placeholder",this.translator.app.select2.search_box)})}ngAfterViewChecked(){const e=this.hostEl.getElementsByClassName("parsley-errors-list").item(0);e&&(this.selectEl.parentNode.removeChild(e),this.selectEl.parentNode.appendChild(e))}ngOnDestroy(){try{this.selectEl=null,this.select2Data=new Array,this.select2Value="",this.options=null,jQuery(this.selectEl).remove(),$(".select-2")&&$(".select-2").select2("close"),document.getElementsByClassName("select2-dropdown").length>0&&document.getElementsByClassName("select2-dropdown").item(0).remove()}catch(e){console.log("select2_common_ngOnDestroy err:",e)}}onValueChanged(e){this.data&&(this.value&&this.value.code!==e||!this.value&&e)&&(void 0===e||""===e?this.value={}:(this.value=this.data.get(e),this.valueChange.emit(this.value?this.value:{code:Math.random().toString(36),name:e,nameEN:e,nameVi:e,used:"0"})))}}},"w+Hj":function(e,t,s){"use strict";var l=s("8Y7J"),a=s("Aer0"),i=s("s7LF"),n=s("eACs");s("lcJK"),s("47AC"),s("TSSN"),s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return o}));var c=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;left:0;width:100%;height:100%}[_nghost-%COMP%]   ng-select2[_ngcontent-%COMP%]{display:block;left:0;width:100%;height:100%}[_nghost-%COMP%]   ng-select2[_ngcontent-%COMP%]   .select2[_ngcontent-%COMP%]{width:resolve}[_nghost-%COMP%]   ng-select2[_ngcontent-%COMP%]   .select2-container[_ngcontent-%COMP%]{width:100%!important}"]],data:{}});function o(e){return l.Ob(0,[(e()(),l.sb(0,0,null,null,2,"ng-select2",[],[[1,"id",0]],[[null,"valueChanged"]],(function(e,t,s){var l=!0;return"valueChanged"===t&&(l=!1!==e.component.onValueChanged(s)&&l),l}),a.b,a.a)),l.Jb(5120,null,i.r,(function(e){return[e]}),[n.a]),l.rb(2,5226496,null,0,n.a,[l.C,l.x,l.k],{data:[0,"data"],placeholder:[1,"placeholder"],value:[2,"value"],disabled:[3,"disabled"],options:[4,"options"]},{valueChanged:"valueChanged"}),l.Db(null,0)],(function(e,t){var s=t.component;e(t,2,0,s.select2Data,s.placeholder,s.select2Value,s.disabled,s.options)}),(function(e,t){e(t,0,0,t.component.id)}))}}}]);